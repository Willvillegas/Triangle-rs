use triangle_rs::scanner::*;

#[test]
fn test_sourcefile() {
    let mut source_file = SourceFile::new("samples/source/odd_degenerate.t");
    while let Some(c) = source_file.next() {
        println!("{:?}", c);
    }
}

#[test]
fn test_emptycommandeot() {
    let source_file = "samples/source/emptycommandeot.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![Token::new(
        TokenType::Eot,
        NULL_STR,
        SourcePosition::dummy_source_position(),
    )];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_emptycommandeot_degenerate() {
    let source_file = "samples/source/emptycommandeot_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![Token::new(
        TokenType::Eot,
        NULL_STR,
        SourcePosition::dummy_source_position(),
    )];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_emptycommandsemicolon() {
    let source_file = "samples/source/emptycommandsemicolon.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_emptycommandsemicolon_degenerate() {
    let source_file = "samples/source/emptycommandsemicolon_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_hello() {
    let source_file = "samples/source/hello.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "42",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_hello_degenerate() {
    let source_file = "samples/source/hello_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "42",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_eqnoteq() {}

#[test]
fn test_eqnoteq_degenerate() {}

#[test]
fn test_inc() {
    let source_file = "samples/source/inc.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "inc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "inc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_inc_degenerate() {
    let source_file = "samples/source/inc_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "inc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "inc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_echo() {
    let source_file = "samples/source/echo.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "echo",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "eol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "get",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "echo",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_echo_degenerate() {
    let source_file = "samples/source/echo_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "echo",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "eol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "get",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "echo",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_odd() {
    let source_file = "samples/source/odd.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "odd",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Boolean",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "//",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "odd",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_odd_degenerate() {
    let source_file = "samples/source/odd_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "odd",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Boolean",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "//",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "odd",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_sum_proc() {
    let source_file = "samples/source/sum_proc.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "add",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "add",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_sum_proc_degenerate() {
    let source_file = "samples/source/sum_proc_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "add",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "add",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_power() {
    let source_file = "samples/source/power.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "power",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "power",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "power",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_power_degenerate() {
    let source_file = "samples/source/power_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases: Vec<Token> = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "power",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "power",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "power",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_factorial() {
    let source_file = "samples/source/factorial.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "factorial",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "factorial",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readnumber",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readnumber",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "factorial",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_factorial_degenerate() {
    let source_file = "samples/source/factorial_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "factorial",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "factorial",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readnumber",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readnumber",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "factorial",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_record() {
    let source_file = "samples/source/record.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "tomorrow",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftCurlyBracket,
            "{",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::IntegerLiteral,
            "2021",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightCurlyBracket,
            "}",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "tomorrow",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftCurlyBracket,
            "{",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightCurlyBracket,
            "}",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "tomorrow",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "tomorrow",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "tomorrow",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_record_degenerate() {
    let source_file = "samples/source/record_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "tomorrow",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftCurlyBracket,
            "{",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::IntegerLiteral,
            "2021",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightCurlyBracket,
            "}",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "tomorrow",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftCurlyBracket,
            "{",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "today",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightCurlyBracket,
            "}",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "tomorrow",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "tomorrow",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "tomorrow",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_leapyear() {
    let source_file = "samples/source/leapyear.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases: Vec<Token> = vec![];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_leapyear_degenerate() {
    let source_file = "samples/source/leapyear_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases: Vec<Token> = vec![];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_date() {
    let source_file = "samples/source/date.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftCurlyBracket,
            "{",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightCurlyBracket,
            "}",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_date_degenerate() {
    let source_file = "samples/source/date_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftCurlyBracket,
            "{",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightCurlyBracket,
            "}",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_print_array() {
    let source_file = "samples/source/print_array.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "println",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "iterate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "f",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "f",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "100",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "iterate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "println",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_print_array_degnerate() {
    let source_file = "samples/source/print_array_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "println",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "iterate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "f",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "f",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "100",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "iterate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "println",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_string() {
    let source_file = "samples/source/string.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "String",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "buf",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "100",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaystring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "String",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "buf",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readstring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "String",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "eol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "get",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "buf",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "String",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readstring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaystring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_string_degenerate() {
    let source_file = "samples/source/string_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "String",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "buf",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "100",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaystring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "String",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "buf",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readstring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "String",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "eol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "get",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "buf",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "String",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readstring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaystring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_reverse_line() {
    let source_file = "samples/source/reverse_line.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "80",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "eol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "get",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "geteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putreversedline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            ">",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "eof",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putreversedline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_reverse_line_degenerate() {
    let source_file = "samples/source/reverse_line_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "80",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "eol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "get",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "geteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putreversedline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            ">",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "eof",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putreversedline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_iteratively() {
    let source_file = "samples/source/iteratively.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "iteratively",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "p",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "p",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readnums",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putintln",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readnums",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "iteratively",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "iteratively",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putintln",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_iteratively_degenerate() {
    let source_file = "samples/source/iteratively_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "iteratively",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "p",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "p",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "arr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readnums",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putintln",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readnums",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "iteratively",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "iteratively",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putintln",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_line() {
    let source_file = "samples/source/line.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "80",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "eol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "get",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putreversedline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            ">=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putreversedline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_line_degenerate() {
    let source_file = "samples/source/line_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "80",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "eol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "get",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putreversedline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "length",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            ">=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "l",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "content",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Line",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putreversedline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "currentline",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_dates() {
    let source_file = "samples/source/dates.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "xmas",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftCurlyBracket,
            "{",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::IntegerLiteral,
            "25",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightCurlyBracket,
            "}",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "easter",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "holidays",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "3",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdates",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "3",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "3",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "easter",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdates",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "holidays",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "xmas",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "easter",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "3",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "holidays",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "holidays",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_dates_degenerate() {
    let source_file = "samples/source/dates_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "xmas",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftCurlyBracket,
            "{",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::IntegerLiteral,
            "25",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightCurlyBracket,
            "}",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "easter",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "holidays",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "3",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdates",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "3",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "3",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "easter",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdates",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "holidays",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "xmas",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "easter",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "3",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "holidays",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaydate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "holidays",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_monthsofyear() {
    let source_file = "samples/source/monthsofyear.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "months",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "printmonths",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ms",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ms",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "leap",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Boolean",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "//",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "100",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "/\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "//",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "400",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\/",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "//",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "4",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "true",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "false",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getmonths",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "leap",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "29",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "28",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "30",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "30",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "30",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "30",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ms",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ms",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getmonths",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "printmonths",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ms",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_monthsofyear_degenerate() {
    let source_file = "samples/source/monthsofyear_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases: Vec<Token> = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "months",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "printmonths",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ms",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ms",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "m",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "leap",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Boolean",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "//",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "100",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "/\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "//",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "400",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "\\/",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "//",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "4",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "true",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "false",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getmonths",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Date",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "leap",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "29",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "28",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "30",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "30",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "30",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "30",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "31",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readdate",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ms",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "12",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ms",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getmonths",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "printmonths",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ms",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_capitalise() {
    let source_file = "samples/source/capitalise.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "shift",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "A",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "capitalisechar",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            ">=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "/\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "z",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "chr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "shift",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "capitalise",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "capitalisechar",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readstring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "get",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaystring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readstring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaystring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "capitalise",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaystring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_capitalise_degenerate() {
    let source_file = "samples/source/capitalise_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "shift",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "A",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "capitalisechar",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            ">=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "/\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "z",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "chr",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ord",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "shift",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "ch",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "capitalise",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "capitalisechar",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readstring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "get",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaystring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Char",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "5",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readstring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaystring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "capitalise",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaystring",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_freq() {
    let source_file = "samples/source/freq.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases: Vec<Token> = vec![];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_freq_degenerate() {
    let source_file = "samples/source/freq_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases: Vec<Token> = vec![];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_insertion_sort() {
    let source_file = "samples/source/insertion_sort.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readNumsSub",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "stop",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "stop",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readNumsSub",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "stop",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readNums",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "readNumsSub",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaySub",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "stop",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "stop",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaySub",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "stop",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "display",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "displaySub",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "insertionSort",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "key",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "key",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            ">=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "/\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            ">",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "key",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "key",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readNums",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "display",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "insertionSort",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "display",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_insertion_sort_degenerate() {
    let source_file = "samples/source/insertion_sort_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readNumsSub",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "stop",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "stop",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readNumsSub",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "stop",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readNums",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "readNumsSub",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaySub",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "stop",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "stop",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displaySub",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "idx",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "stop",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "display",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "displaySub",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "insertionSort",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Array,
            "array",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Of, "of", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "key",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "<",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "10",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "key",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::While,
            "while",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            ">=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "/\\",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            ">",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "key",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Do, "do", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftSquareBracket,
            "[",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "j",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightSquareBracket,
            "]",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "key",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "i",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readNums",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "display",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "insertionSort",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "display",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "s",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_rationals() {
    let source_file = "samples/source/rationals.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "gcd",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "gcd",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "//",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "makerational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "g",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "gcd",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftCurlyBracket,
            "{",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "/",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "g",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "/",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "g",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightCurlyBracket,
            "}",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "makerational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displayrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "{",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "}",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "addrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "num",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "denom",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "makerational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "num",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "denom",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "subrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "num",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "denom",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "makerational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "num",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "denom",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "c",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displayrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displayrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "c",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "addrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displayrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "c",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "c",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "subrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displayrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "c",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}

#[test]
fn test_rationals_degenerate() {
    let source_file = "samples/source/rationals_degenerate.t";
    let mut scanner = Scanner::new(source_file);
    let test_cases = vec![
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Type,
            "type",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Record,
            "record",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "gcd",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(TokenType::If, "if", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::IntegerLiteral,
            "0",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Then,
            "then",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Else,
            "else",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "gcd",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "x",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "//",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "y",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "makerational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Integer",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "g",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "gcd",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftCurlyBracket,
            "{",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "n",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "/",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "g",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "d",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "/",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "g",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightCurlyBracket,
            "}",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "getint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "makerational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Procedure,
            "proc",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displayrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "{",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "putint",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "put",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::CharacterLiteral,
            "}",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "puteol",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "addrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "num",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "+",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "denom",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "makerational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "num",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "denom",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Function,
            "func",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "subrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Let,
            "let",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "num",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "-",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "numerator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Const,
            "const",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "denom",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Is, "~", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r1",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Operator,
            "*",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "r2",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::Dot, ".", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "denominator",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Identifier,
            "makerational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "num",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "denom",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "c",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Colon,
            ":",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "Rational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(TokenType::In, "in", SourcePosition::dummy_source_position()),
        Token::new(
            TokenType::Begin,
            "begin",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displayrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "readrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Var,
            "var",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displayrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "c",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "addrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displayrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "c",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "c",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Becomes,
            ":=",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "subrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "a",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Comma,
            ",",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "b",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "displayrational",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::LeftParen,
            "(",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Identifier,
            "c",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::RightParen,
            ")",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Semicolon,
            ";",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::End,
            "end",
            SourcePosition::dummy_source_position(),
        ),
        Token::new(
            TokenType::Eot,
            NULL_STR,
            SourcePosition::dummy_source_position(),
        ),
    ];

    for tt in test_cases {
        let token = scanner.scan_token();
        assert_eq!(tt, token);
    }
}
